<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>A first look at C++ (7) | 熊儿老猫的博客</title><meta name="description" content="Pointer constants and constant pointers12345678910111213141516171819202122const int i &#x3D; 20;int const i &#x3D; 20;&#x2F;&#x2F; They are exactly the same. This is something we want to be clear about. In short, you mus"><meta name="author" content="Zhenglin Li"><meta name="copyright" content="Zhenglin Li"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://9pshr3.coding-pages.com/2023/01/18/A%20first%20look%20at%20C++%20(7)/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta property="og:type" content="article"><meta property="og:title" content="A first look at C++ (7)"><meta property="og:url" content="http://9pshr3.coding-pages.com/2023/01/18/A%20first%20look%20at%20C++%20(7)/"><meta property="og:site_name" content="熊儿老猫的博客"><meta property="og:description" content="Pointer constants and constant pointers12345678910111213141516171819202122const int i &#x3D; 20;int const i &#x3D; 20;&#x2F;&#x2F; They are exactly the same. This is something we want to be clear about. In short, you mus"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-8.webp"><meta property="article:published_time" content="2023-01-18T12:11:43.027Z"><meta property="article:modified_time" content="2023-01-18T11:37:06.921Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'true'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?0773dcadd0397be86eb74da114bd1757";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false    
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2023-01-18 19:37:06'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="/css/iconfont.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">42</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">15</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Pointer-constants-and-constant-pointers"><span class="toc-number">1.</span> <span class="toc-text">Pointer constants and constant pointers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing-function-parameters-in-C"><span class="toc-number">1.1.</span> <span class="toc-text">Passing function parameters in C</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Value-passing"><span class="toc-number">1.2.</span> <span class="toc-text">Value passing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Address-passing"><span class="toc-number">1.3.</span> <span class="toc-text">Address passing</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#c-reference-passing"><span class="toc-number">2.</span> <span class="toc-text">c++ reference passing</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Function-Pointers"><span class="toc-number">3.</span> <span class="toc-text">Function Pointers</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-语言中函数参数的传递"><span class="toc-number">4.</span> <span class="toc-text">C 语言中函数参数的传递</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#值传递"><span class="toc-number">4.1.</span> <span class="toc-text">值传递</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#地址传递"><span class="toc-number">4.2.</span> <span class="toc-text">地址传递</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#c-引用传递"><span class="toc-number">5.</span> <span class="toc-text">c++引用传递</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#函数指针"><span class="toc-number">6.</span> <span class="toc-text">函数指针</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-8.webp)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">熊儿老猫的博客</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">A first look at C++ (7)</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-18T12:11:43.027Z" title="发表于 2023-01-18 20:11:43">2023-01-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-18T11:37:06.921Z" title="更新于 2023-01-18 19:37:06">2023-01-18</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>31分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Pointer-constants-and-constant-pointers"><a href="#Pointer-constants-and-constant-pointers" class="headerlink" title="Pointer constants and constant pointers"></a>Pointer constants and constant pointers</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> i = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// They are exactly the same. This is something we want to be clear about. In short, you must remember that const and int which is written before does not affect the semantics.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *pi;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> *pi;</span><br><span class="line"><span class="comment">//The above two ways of writing are the same, the value pointed to is immutable, pointing to mutable</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1) const modifies the whole *pi (note that it is *pi and not pi). So *pi is a constant and cannot be reassigned.</span></span><br><span class="line"><span class="comment">2) pi is not modified by const, so pi is a pointer variable and can be reassigned to another memory address.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *<span class="keyword">const</span> pi;</span><br><span class="line"><span class="comment">// points to immutable, the value pointed to is mutable</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1) pi is only a pointer constant because of the const modifier: that is, the value of pi is not modifiable (i.e., pi cannot be redirected to another variable)</span></span><br><span class="line"><span class="comment">2) The entire *pi is not preceded by the const modifier. That is, *pi is a variable and not a constant, so we can modify the value of the variable it points to by using *pi</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> * <span class="keyword">const</span> i;</span><br><span class="line"><span class="comment">// pointing and the value pointed to are immutable</span></span><br></pre></td></tr></table></figure>

<h2 id="Passing-function-parameters-in-C"><a href="#Passing-function-parameters-in-C" class="headerlink" title="Passing function parameters in C"></a>Passing function parameters in C</h2><h2 id="Value-passing"><a href="#Value-passing" class="headerlink" title="Value passing"></a>Value passing</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg1</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp;</span><br><span class="line">    tmp = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = tmp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"x = %d, y = %d\n"</span>, x, y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">4</span>,b = <span class="number">6</span>;</span><br><span class="line">    Exchg1(a, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"a = %d, b = %d\n"</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The output of the program is.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 6, y &#x3D; 4.</span><br><span class="line"></span><br><span class="line">a &#x3D; 4, b &#x3D; 6.</span><br></pre></td></tr></table></figure>

<p>A preparatory common sense</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line">x = a;</span><br><span class="line">x = x + <span class="number">3</span>;</span><br><span class="line">a = <span class="number">4</span>, x = <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>The code of the operation done when Exchg1(a, b) is shown below.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = a; <span class="comment">/* ← */</span></span><br><span class="line"><span class="keyword">int</span> y = b; <span class="comment">/* ← Note here that the first two lines are implicit operations when the function is called */</span></span><br><span class="line"><span class="keyword">int</span> tmp;</span><br><span class="line">tmp = x;</span><br><span class="line">x = y;</span><br><span class="line">y = tmp;</span><br></pre></td></tr></table></figure>

<p>Note that in the call to execute the Exchg1 function I have artificially added the first two sentences.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = a;</span><br><span class="line"><span class="keyword">int</span> y = b;</span><br></pre></td></tr></table></figure>

<p>These are the two implied actions when the function is called. It does exist, but now I’ve just written it out explicitly. The problem is now clear. (See, now you think the function swaps a and b variables or just x and y variables?)</p>
<p>It turns out that the function is actually called by implicitly assigning the values of the real parameters a and b to x and y respectively, and then there is no more operation on a and b inside the Exchg1 function you wrote. Only the x and y variables are exchanged. Of course the values of a and b are not changed! The function just passes the values of a and b to ** x** and y by assignment, and the function only manipulates the values of x and y, not the values of a and b. This is called value passing of parameters.</p>
<p>It is the implicit assignment of the two operations that gives us the aforementioned confusion (it is a mistake to think that a and b have replaced x and y, and that the operation on x and y is the operation on a and b.). .</p>
<h2 id="Address-passing"><a href="#Address-passing" class="headerlink" title="Address passing"></a>Address passing</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg2</span><span class="params">(<span class="keyword">int</span> *px, <span class="keyword">int</span> *py)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> tmp = *px;</span><br><span class="line">	*px = *py;</span><br><span class="line">	*py = tmp;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"*px = %d, *py = %d.\n"</span>, *px, *py);</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line">	Exchg2(&amp;a, &amp;b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a = %d, b = %d.\n"</span>, a, b);</span><br><span class="line">	<span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Its output is.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*px &#x3D; 6, *py &#x3D; 4.</span><br><span class="line">a &#x3D; 6, b &#x3D; 4.</span><br></pre></td></tr></table></figure>

<p>Look at the interface part of the function: Exchg2(int *px, int *py). Note that the parameters px, py are pointers.</p>
<p>Then look at the call: Exchg2(&amp;a, &amp;b);</p>
<p>It substitutes the address of a (&amp;a) to px and the address of b (&amp;b) to py. As with the value passing above, the function call does two implicit operations: it assigns the values of &amp;a, &amp;b to px and py.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">px = &amp;a;</span><br><span class="line">py = &amp;b;</span><br></pre></td></tr></table></figure>

<p>Oh! We find that it is actually not different from value passing, except that here the address values of a and b are passed to px and py, instead of the contents of a and b being passed.</p>
<p>The entire Exchg2 function call is executed as follows.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">px = &amp;a; <span class="comment">/* ← */</span></span><br><span class="line">py = &amp;b; <span class="comment">/* ← Note these two lines, which are implicit actions of the Exchg2 call. */</span></span><br><span class="line"><span class="keyword">int</span> tmp = *px;</span><br><span class="line">*px = *py;</span><br><span class="line">*py = tmp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"*px =%d, *py = %d.\n"</span>, *px, *py);</span><br></pre></td></tr></table></figure>

<p>Thus, there is the implicit assignment operation of the first two lines. We can now see that the values of the pointers px and py are already the address values of the a and b variables, respectively. Next, the operations on px and py are, of course, operations on the a and b variables themselves. So the swap in the function is an exchange of the a and b values.</p>
<p>This is called address passing (passing the address of a and b to px and py), do you get it now?</p>
<h1 id="c-reference-passing"><a href="#c-reference-passing" class="headerlink" title="c++ reference passing"></a>c++ reference passing</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg3</span><span class="params">(<span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span> <span class="comment">/* Note that the format of the formal arguments at the definition is different from value passing */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = x; <span class="number">27</span>x = y;</span><br><span class="line">y = tmp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"x = %d, y = %d.\n"</span>, x, y);</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line">Exchg3(a, b); <span class="comment">/*Note: this is called the same way as value passing*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"a = %d, b = %d.\n"</span>, a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Output result.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 6, y &#x3D; 4.</span><br><span class="line">a &#x3D; 6, b &#x3D; 4.</span><br></pre></td></tr></table></figure>

<p>/*<br>This output is different from value passing. There is only one difference in the code format compared to value passing, namely at the definition.<br>Exchg3(int &amp;x, int &amp;y)<br>But we find that the values of a and b are switched. This means that Exchg3(a, b) is modifying the a and b variables, not just the x and y variables.<br>Let’s look at the definition of the Exchg3 function, Exchg3(int &amp;x, int &amp;y). The arguments x and y are int variables, so we can call the function as if it were a value pass (e.g., Exchg1(a, b);).<br>We can call the function as if it were value-passed (e.g., Exchg3(a, b);). However, x and y are preceded by a symbol “&amp;” (which does not take the address). With this, when calling Exchg3, the function will replace x and y with a and b, respectively, and we say: x and y refer to the a and b variables respectively. This means that the function can directly modify the values of a and b in the function.</p>
<p>Finally, a comparison of value transfer and reference transfer.<br>(1) There is a difference in the function definition format: value transfer is defined as Exchg1(int x, int y); reference transfer is defined as Exchg3(int &amp;x, int &amp;y); 2) The call has the same format: value pass: Exchg1(a, b); reference pass: Exchg3(a, b); 3) The functions are different.<br>The value-passing function does not operate on the a and b variables themselves, but only assigns the a and b values to x and y. The function operates on the x and y variables instead of a and b, showing that the values of a and b are not modified by the Exchg1 function.<br>The reference-passing Exchg3(a, b) function replaces x and y with a and b. The function operates on the a and b variables themselves, so the values of a and b can be modified within the function.</p>
<p>A pointer to another pointer address<br>Look at the following code.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">short <span class="keyword">int</span> i = <span class="number">50</span>;</span><br><span class="line">short <span class="keyword">int</span> *pi = &amp;i;</span><br><span class="line">short <span class="keyword">int</span> **ppi = &amp;pi; <span class="comment">/* This is a pointer to a pointer, note the two "*" signs */</span></span><br></pre></td></tr></table></figure>

<p>The first sentence: short int *_ppi; – declares a pointer variable ppi, which is used to store (or point to) the address of a pointer variable of type short int _.</p>
<p>The second sentence: &amp;pi is to take the address of pi, **ppi = &amp;pi is to assign the address of pi to ppi. i.e., the address value 9 is assigned to ppi.</p>
<p>Memory address → 5 6 7 8 9 10 11 12</p>
<p>—+—— ———- ———- ———- —</p>
<p>| 50 | | | 5 | | 9 |</p>
<p>| short int i | | | short int pi |short int *ppi|</p>
<p>As you can see from the figure, the content of the pointer variable ppi is the starting address of the pointer variable pi. So what is the value of …… ppi? – 9. What is the value of ppi? – 5, which is the value of pi. What is the value of *ppi? –50, the value of i, which is also the value of *pi. Oh! I don’t need to tell you too much, I believe you should understand this kind of pointer!</p>
<p>An application example<br>An application example<br>(1) Design a function.</p>
<p>C<br>void find1(char array[], char search, char *pa)<br>Requirements: The array array in the parameters of this function is a string ending with a value of 0. It is required to find the characters in the string array are the characters in the parameter search. If found, the function returns the third parameter (pa) as the address of the first character found in the array string. If not found, pa is 0.<br>Design: According to the question, the following code is implemented.</p>
<p>C<br>void find1(char array[], char search, char <em>pa) {<br>int i;<br>for (i = 0; _(array + i) ! = ‘\0’; i++) {<br>if (</em>(array + i) == search) {<br>pa = array + i;<br>break;<br>} else if (_(array + i) == 0) {<br>pa = 0;<br>break;<br>}<br>}<br>}<br>Do you think this function achieves the requested functionality?<br>Debugging.<br>I’ll call this function below to try it out.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[] = &#123;<span class="string">"afsdfsdfsdf\0"</span>&#125;;<span class="comment">/* the string to be found */</span></span><br><span class="line">    <span class="keyword">char</span> a = <span class="string">'d'</span>; <span class="comment">/* set the character to be found */</span></span><br><span class="line">    <span class="keyword">char</span> *p = <span class="number">0</span>; <span class="comment">/* If found, pointer p will point to the address of the 1st character found in the string. */</span></span><br><span class="line">    find1(str, a, p); <span class="comment">/* Call the function to perform the desired operation. */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span> == p) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Not Find! \n"</span>); <span class="comment">/* Output this sentence if not found */</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Find! p = %d"</span>, p); <span class="comment">/* output this sentence if found */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Analysis.<br>What do you think will be the output of the above code?<br>Run it and try.<br>LOL! How come the output is: Not Find!<br>instead of “Find!, ……”.<br>Obviously the value of a is ‘d’, and the fourth character of str string is ‘d’, it should be able to find ah!<br>Look at the function definition again.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1</span><span class="params">(<span class="keyword">char</span> <span class="built_in">array</span>[], <span class="keyword">char</span> search, <span class="keyword">char</span> *pa)</span></span></span><br></pre></td></tr></table></figure>

<p>Look at the call.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find1(str, a, p);</span><br></pre></td></tr></table></figure>

<p>In the way I analyzed it in Part V, the function call will make an implicit assignment to each argument.<br>The entire call is as follows.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span> = str;</span><br><span class="line">search = a;</span><br><span class="line">pa = p; <span class="comment">/* Please note: the above three sentences are implicit actions when called. */</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i =<span class="number">0</span>; *(<span class="built_in">array</span>+i) ! = <span class="string">'\0'</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (*(<span class="built_in">array</span>+i) == search)</span><br><span class="line">	&#123;</span><br><span class="line">		pa = <span class="built_in">array</span> + i;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*(<span class="built_in">array</span>+i)== <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		pa = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Oh! There is no difference between the passing of the parameter pa and the parameter search, they are both value passing (small talk: address passing is actually address-value passing)! So the modification of the value of the form variable pa (which is of course an address value) does not change the value of the real variable p, so the value of p does not change (i.e. the pointing of p is not changed).<br>Correction.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2</span><span class="params">(<span class="keyword">char</span> <span class="built_in">array</span>[], <span class="keyword">char</span> search, <span class="keyword">char</span> **ppa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; *(<span class="built_in">array</span> + i) ! = <span class="number">0</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(*(<span class="built_in">array</span> + i) == search)</span><br><span class="line">        &#123;</span><br><span class="line">        	*ppa = <span class="built_in">array</span> + i;</span><br><span class="line">        	<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(*(<span class="built_in">array</span> + i) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">       	    *ppa = <span class="number">0</span>;</span><br><span class="line">       	    <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The call to the main function is changed as follows.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find2(str, a, &amp;p);</span><br></pre></td></tr></table></figure>

<p>Call the function to perform the desired operation.<br>Re-analysis.<br>The entire operation when the function is called in this way becomes the following.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span> = str; search = a; ppa = &amp;p; <span class="comment">/* Note that the above three sentences are implied actions when called. */</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; *(<span class="built_in">array</span> + i) ! = <span class="number">0</span>; i++) &#123;</span><br><span class="line">	<span class="keyword">if</span> (*(<span class="built_in">array</span> + i) == search) &#123;</span><br><span class="line">		*ppa = <span class="built_in">array</span> + i <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*(<span class="built_in">array</span> + i)== <span class="number">0</span>) &#123;</span><br><span class="line">		*ppa = <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>See what I mean? ppa points to the address of pointer p. A change to *ppa is a change to the value of p. You debug it yourself.<br>After the modification, the program will be able to perform the desired function. If you understand this example, you will have achieved the purpose of this article.</p>
<h1 id="Function-Pointers"><a href="#Function-Pointers" class="headerlink" title="Function Pointers"></a>Function Pointers</h1><p>What is a function pointer?</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>) = MyFun;</span><br><span class="line">    MyFun(<span class="number">10</span>);</span><br><span class="line">    (*FunP)(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>With the FunP pointer variable, we can assign a value to it to point to MyFun and then call the MyFun function through FunP. See how I call the MyFun function from the FunP pointer variable: ``C</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    MyFun(<span class="number">10</span>); <span class="comment">/* This is a direct call to the MyFun function */</span></span><br><span class="line"></span><br><span class="line">    FunP = &amp;MyFun; <span class="comment">/* assign the address of the MyFun function to the FunP variable */</span></span><br><span class="line">    FunP = MyFun; <span class="comment">/* assign the address of the MyFun function to the FunP variable */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    (*FunP)(<span class="number">20</span>);<span class="comment">/* (★) This is a call to the MyFun function via the function pointer variable FunP. */</span></span><br><span class="line">    FunP(<span class="number">20</span>); <span class="comment">/* (★) This is a call to the MyFun function via the function pointer variable FunP. */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br><span class="line">ðŸ™' ðŸ™'</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>) In fact, the function name of MyFun <span class="keyword">and</span> FunP function pointer are the same, that is, both are function pointers.</span><br><span class="line">MyFun function name is a function pointer constant, <span class="keyword">while</span> FunP is a function number pointer variable, which is their relationship.</span><br><span class="line"></span><br><span class="line">(2) But if the function name calls have to be such as (\*MyFun)(10), it is not convenient to write and read and not used to. That's why the designers of the C language designed it to allow MyFun(10) to be called in this form (which is much more convenient and the same as the form of the function in mathematics, isn't it?) .</span><br><span class="line"></span><br><span class="line">3) For the sake of consistency, the FunP function pointer variable can also be called in the form of FunP(10).</span><br><span class="line"></span><br><span class="line">(<span class="number">4</span>) When assigning values, you can FunP = &amp;MyFun form, <span class="keyword">or</span> FunP = MyFun.</span><br><span class="line"></span><br><span class="line">The above code can be written in any way you like!</span><br><span class="line">Please understand it <span class="keyword">this</span> way! This is to help you to apply the function pointer! And finally...</span><br><span class="line">Lastly -- <span class="keyword">and</span> as a side note, in the function declaration.</span><br><span class="line"></span><br><span class="line">```C</span><br><span class="line"><span class="keyword">void</span> MyFun(<span class="keyword">int</span>); <span class="comment">/* Cannot be written as void (*MyFun)(int). */</span></span><br><span class="line"><span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>); <span class="comment">/* Cannot be written as void FunP(int). */</span></span><br><span class="line">Define the pointer type of a certain function</span><br><span class="line">C</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*FunType)</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">FunType FunP; <span class="comment">/* then declare the global FunP variable with the FunType type */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    FunType FunP;</span><br><span class="line">    MyFun(<span class="number">10</span>);</span><br><span class="line">    FunP = &amp;MyFun;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Define a function pointer type named FunType instead of a FunType variable. Then, the FunType FunP clause declares a FunP as if it were PINT px;.<br>variable.</p>
<p>A function pointer as a parameter to a function</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun1</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun2</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun3</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*FunType)</span><span class="params">(<span class="keyword">int</span>)</span></span>; <span class="comment">/* ②. Define a function pointer type FunType, as long as the function type (parameters and return value) is the same, you can use it only to define */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CallMyFun</span><span class="params">(FunType fp, <span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    CallMyFun(MyFun1, <span class="number">10</span>); <span class="comment">/* ⑤. Call the three different functions separately with the CallMyFun function */</span></span><br><span class="line">    CallMyFun(MyFun2, <span class="number">20</span>);</span><br><span class="line">    CallMyFun(MyFun3, <span class="number">30</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CallMyFun</span><span class="params">(FunType fp, <span class="keyword">int</span> x)</span> <span class="comment">/* ③. The argument fp is of type FunType. */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fp(x);<span class="comment">/* ④. The function passed in is executed via the pointer to fp. */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun1</span><span class="params">(<span class="keyword">int</span> x)</span> <span class="comment">/* ①. This is a function with one argument, and the following two functions are the same. */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Output in function MyFun1: %d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Output in function MyFun2: %d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun3</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Output in function MyFun3: %d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line">ðŸ™' ðŸ™'</span><br><span class="line"></span><br><span class="line">Output result.</span><br><span class="line"></span><br><span class="line">Output in function MyFun1: <span class="number">10</span></span><br><span class="line">Output in function MyFun2: <span class="number">20</span></span><br><span class="line">Function</span><br><span class="line"></span><br><span class="line"># 指针常量和常量指针</span><br><span class="line"></span><br><span class="line">```C</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> i = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> i = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//它们是完全相同的。这一点我们是要清楚。总之，你务必要记住 const 与int 哪个写前都不影响语义。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *pi;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> *pi;</span><br><span class="line"><span class="comment">//上面两种写法是一样的，所指向的值不可变，指向可变</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1）const 修饰的是整个*pi（注意是*pi 而不是 pi）。所以*pi 是常量，是不能被重新赋值的。</span></span><br><span class="line"><span class="comment">2）pi 前并没有用 const 修饰，所以 pi 是指针变量，能被赋值重新指向另一内存地址的。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *<span class="keyword">const</span> pi;</span><br><span class="line"><span class="comment">//指向不可变，所指向的值可变</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1）pi 因为有了 const 的修饰，所以只是一个指针常量：也就是说 pi 值是不可修改的（即 pi 不可以重新指向其他变量了）</span></span><br><span class="line"><span class="comment">2）整个*pi 的前面没有 const 的修饰。也就是说，*pi 是变量而不是常量，所以我们可以通过*pi 来修改它所指向的变量的值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> * <span class="keyword">const</span> i;</span><br><span class="line"><span class="comment">//指向、所指向的值均不可变</span></span><br></pre></td></tr></table></figure>

<h1 id="C-语言中函数参数的传递"><a href="#C-语言中函数参数的传递" class="headerlink" title="C 语言中函数参数的传递"></a>C 语言中函数参数的传递</h1><h2 id="值传递"><a href="#值传递" class="headerlink" title="值传递"></a>值传递</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg1</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp;</span><br><span class="line">    tmp = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = tmp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"x = %d, y = %d\n"</span>, x, y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">4</span>,b = <span class="number">6</span>;</span><br><span class="line">    Exchg1(a, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"a = %d, b = %d\n"</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序输出的结果是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 6, y &#x3D; 4.</span><br><span class="line"></span><br><span class="line">a &#x3D; 4, b &#x3D; 6.</span><br></pre></td></tr></table></figure>

<p>一个预备的常识</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line">x = a;</span><br><span class="line">x = x + <span class="number">3</span>;</span><br><span class="line">a = <span class="number">4</span>、x = <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>Exchg1(a, b)时所完成的操作代码如下所示。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = a; <span class="comment">/* ← */</span></span><br><span class="line"><span class="keyword">int</span> y = b; <span class="comment">/* ← 注意这里，头两行是调用函数时的隐含操作 */</span></span><br><span class="line"><span class="keyword">int</span> tmp;</span><br><span class="line">tmp = x;</span><br><span class="line">x = y;</span><br><span class="line">y = tmp;</span><br></pre></td></tr></table></figure>

<p>请注意在调用执行 Exchg1 函数的操作中我人为地加上了头两句：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = a;</span><br><span class="line"><span class="keyword">int</span> y = b;</span><br></pre></td></tr></table></figure>

<p>这是调用函数时的两个隐含动作。它确实存在，现在我只不过把它显式地写了出来而已。问题一下就清晰起来啦。（看到这里，现在你认为函数里面交换操作的是 a、b 变量或者只是 x、y 变量呢？）</p>
<p>原来 ，其实函数在调用时是隐含地把实参 a、b 的值分别赋值给了 x、y，之后在你写的 Exchg1 函数体内再也没有对 a、b 进行任何的操作了。交换的只是 x、y 变量。并不是 a、b。当然 a、b 的值没有改变啦！函数只是把 a、b 的值通过赋值传递给了** x**、y，函数里头操作的只是 x、y 的值并不是 a、b 的值。这就是所谓的参数的值传递了。</p>
<p>正是因为它隐含了那两个的赋值操作，才让我们产生前述的迷惑（以为 a、b 已经代替了 x、y，对 x、y 的操作就是对 a、b 的操作了，这是一个错误的观点啊！）。</p>
<h2 id="地址传递"><a href="#地址传递" class="headerlink" title="地址传递"></a>地址传递</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg2</span><span class="params">(<span class="keyword">int</span> *px, <span class="keyword">int</span> *py)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> tmp = *px;</span><br><span class="line">	*px = *py;</span><br><span class="line">	*py = tmp;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"*px = %d, *py = %d.\n"</span>, *px, *py);</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line">	Exchg2(&amp;a, &amp;b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a = %d, b = %d.\n”, a, b);</span></span><br><span class="line"><span class="string">	return(0);</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>它的输出结果是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*px &#x3D; 6, *py &#x3D; 4.</span><br><span class="line">a &#x3D; 6, b &#x3D; 4.</span><br></pre></td></tr></table></figure>

<p>看函数的接口部分：Exchg2(int *px, int *py)，请注意：参数 px、py 都是指针。</p>
<p>再看调用处：Exchg2(&amp;a, &amp;b);</p>
<p>它将 a 的地址（&amp;a）代入到 px，b 的地址（&amp;b）代入到 py。同上面的值传递一样，函数调用时作了两个隐含的操作：将&amp;a，&amp;b 的值赋值给了 px、py。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">px = &amp;a;</span><br><span class="line">py = &amp;b;</span><br></pre></td></tr></table></figure>

<p>呵呵！我们发现，其实它与值传递并没有什么不同，只不过这里是将 a、b 的地址值传递给了 px、py，而不是传递的 a、b 的内容，</p>
<p>整个 Exchg2 函数调用是如下执行的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">px = &amp;a; <span class="comment">/* ← */</span></span><br><span class="line">py = &amp;b; <span class="comment">/* ← 请注意这两行，它是调用 Exchg2 的隐含动作。*/</span></span><br><span class="line"><span class="keyword">int</span> tmp = *px;</span><br><span class="line">*px = *py;</span><br><span class="line">*py = tmp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"*px =%d, *py = %d.\n"</span>, *px, *py);</span><br></pre></td></tr></table></figure>

<p>这样，有了头两行的隐含赋值操作。我们现在已经可以看出，指针 px、py 的值已经分别是 a、b 变量的地址值了。接下来，对 px、py 的操作当然也就是对 a、b 变量本身的操作了。所以函数里头的交换就是对 a、b 值的交换了，</p>
<p>这就是所谓的地址传递（传递 a、b 的地址给了 px、py），你现在明白了吗？</p>
<h1 id="c-引用传递"><a href="#c-引用传递" class="headerlink" title="c++引用传递"></a>c++引用传递</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Exchg3</span><span class="params">(<span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span> <span class="comment">/* 注意定义处的形式参数的格式与值传递不同 */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = x; <span class="number">27</span>x = y;</span><br><span class="line">y = tmp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"x = %d, y = %d.\n"</span>, x, y);</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line">Exchg3(a, b); <span class="comment">/*注意：这里调用方式与值传递一样*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"a = %d, b = %d.\n”, a, b);</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 6, y &#x3D; 4.</span><br><span class="line">a &#x3D; 6, b &#x3D; 4.</span><br></pre></td></tr></table></figure>

<p>/*<br>这个输出结果与值传递不同。与值传递相比，代码格式上只有一处是不同的，即在定义处：<br>Exchg3(int &amp;x, int &amp;y)<br>但是我们发现 a 与 b 的值发生了对调。这说明了 Exchg3(a, b)里头修改的是 a、b 变量，而不只是修改 x、y 了。<br>我们先看 Exchg3 函数的定义处 Exchg3(int &amp;x, int &amp;y)。参数 x、y 是 int 的变量，调用时我们可以像值传递（如： Exchg1(a, b); ）一样调<br>用函数（如： Exchg3(a, b);）。但是 x、y 前都有一个符号“&amp;”（不是取地址的作用）。有了这个，调用 Exchg3 时函数会将 a、b 分别代替了 x、y 了，我们称：x、y 分别引用了 a、b 变量。这样函数里头操作的其实就是实参 a、b 本身了，也就是说函数里是可以直接修改到 a、b 的值了。</p>
<p>最后对值传递与引用传递作一个比较：<br>1）在函数定义格式上有不同： 值传递在定义处是：Exchg1(int x, int y); 引用传递在这义处是：Exchg3(int &amp;x, int &amp;y);<br>2）调用时有相同的格式： 值传递：Exchg1(a, b); 引用传递：Exchg3(a, b);<br>3）功能上是不同的：<br>值传递的函数里操作的不是 a、b 变量本身，只是将 a、b 值赋给了 x、y。 函数里操作的只是 x、y 变量而不是 a、b，显示 a、b 的值不会被 Exchg1 函数 所修改。<br>引用传递 Exchg3(a, b)函数里是用 a、b 分别代替了 x、y。函数里操作 的就是 a、b 变量的本身，因此 a、b 的值可在函数里被修改的。</p>
<p>指向另一指针地址的指针<br>看下面代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">short <span class="keyword">int</span> i = <span class="number">50</span>;</span><br><span class="line">short <span class="keyword">int</span> *pi = &amp;i;</span><br><span class="line">short <span class="keyword">int</span> **ppi = &amp;pi; <span class="comment">/* 这是一个指向指针的指针，注意有两个“*”号 */</span></span><br></pre></td></tr></table></figure>

<p>第一句：short int *_ppi; —— 声明了一个指针变量 ppi，这个 ppi 是用来存储（或称指向）一个 short int _ 类型指针变量的地址。</p>
<p>第二句：&amp;pi 那就是取 pi 的地址，**ppi = &amp;pi 就是把 pi 的地址赋给 了 ppi。即将地址值 9 赋值给 ppi。如下图：</p>
<p>内存地址 → 5 6 7 8 9 10 11 12</p>
<p>——–+——————————————————————————————————————–</p>
<p>| 50 | | | 5 | 9 |</p>
<p>| short int i | | | short int pi |short int *ppi|</p>
<p>从图中看出，指针变量 ppi 的内容就是指针变量 pi 的起始地址。于是…… ppi 的值是多少呢？—— 9。 ppi 的值是多少呢？—— 5，即 pi 的值。 <em>ppi 的值是多少呢？——50，即 i 的值，也是</em>pi 的值。 呵呵！不用我说太多了，我相信你应明白这种指针了吧！</p>
<p>一个应用实例<br>一个应用实例<br>（1）设计一个函数：</p>
<p>C<br>void find1(char array[], char search, char *pa)<br>要求：这个函数参数中的数组 array 是以 0 值为结束的字符串，要求在字符串 array 中查找字符是参数 search 里的字符。如果找到，函数通过第三个参数 （pa）返回值为 array 字符串中第一个找到的字符的地址。如果没找到，则为 pa 为 0。<br>设计：依题意，实现代码如下。</p>
<p>C<br>void find1(char array[], char search, char <em>pa) {<br>int i;<br>for (i = 0; _(array + i) != ‘\0’; i++) {<br>if (</em>(array + i) == search) {<br>pa = array + i;<br>break;<br>} else if (_(array + i) == 0) {<br>pa = 0;<br>break;<br>}<br>}<br>}<br>你觉得这个函数能实现所要求的功能吗？<br>调试：<br>我下面调用这个函数试试。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[] = &#123;<span class="string">"afsdfsdfdf\0"</span>&#125;;<span class="comment">/* 待查找的字符串 */</span></span><br><span class="line">    <span class="keyword">char</span> a = <span class="string">'d'</span>;<span class="comment">/* 设置要查找的字符 */</span></span><br><span class="line">    <span class="keyword">char</span> *p = <span class="number">0</span>; <span class="comment">/* 如果查找到后指针 p 将指向字符串中查找到的第 1 个字符的地址。 */</span></span><br><span class="line">    find1(str, a, p); <span class="comment">/* 调用函数以实现所要操作。 */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span> == p) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Not Find! \n"</span>); <span class="comment">/* 如果没找到则输出此句 */</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Find! p = %d"</span>, p); <span class="comment">/* 如果找到则输出此句*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分析：<br>上面代码，你认为会是输出什么呢？<br>运行试试。<br>唉！怎么输出的是：Not Find!<br>而不是“Find!，……”。<br>明明 a 值为’d’，而 str 字符串的第四个字符是’d’，应该找得到呀！<br>再看函数定义处：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1</span><span class="params">(<span class="keyword">char</span> <span class="built_in">array</span>[], <span class="keyword">char</span> search, <span class="keyword">char</span> *pa)</span></span></span><br></pre></td></tr></table></figure>

<p>看调用处：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find1(str, a, p);</span><br></pre></td></tr></table></figure>

<p>依我在第伍篇的分析方法，函数调用时会对每一个参数进行一个隐含的赋值操作。<br>整个调用如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span> = str;</span><br><span class="line">search = a;</span><br><span class="line">pa = p; <span class="comment">/* 请注意：以上三句是调用时隐含的动作。*/</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i =<span class="number">0</span>; *(<span class="built_in">array</span>+i) != <span class="string">'\0'</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (*(<span class="built_in">array</span>+i) == search)</span><br><span class="line">	&#123;</span><br><span class="line">		pa = <span class="built_in">array</span> + i;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*(<span class="built_in">array</span>+i)==<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		pa=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>哦！参数 pa 与参数 search 的传递并没有什么不同，都是值传递嘛（小语：地址传递其实就是地址值传递嘛）！所以对形参变量 pa 值（当然值是一个地址值）的修改并不会改变实参变量 p 值，因此 p 的值并没有改变(即 p 的指向并没有被改变)。<br>修正：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2</span><span class="params">(<span class="keyword">char</span> <span class="built_in">array</span>[], <span class="keyword">char</span> search, <span class="keyword">char</span> **ppa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; *(<span class="built_in">array</span> + i) != <span class="number">0</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(*(<span class="built_in">array</span> + i) == search)</span><br><span class="line">        &#123;</span><br><span class="line">        	*ppa = <span class="built_in">array</span> + i;</span><br><span class="line">        	<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(*(<span class="built_in">array</span> + i) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">       	    *ppa = <span class="number">0</span>;</span><br><span class="line">       	    <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>主函数的调用处改如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find2(str, a, &amp;p);</span><br></pre></td></tr></table></figure>

<p>调用函数以实现所要操作。<br>再分析：<br>这样调用函数时的整个操作变成如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span> = str; search = a; ppa = &amp;p; <span class="comment">/* 请注意：以上三句是调用时隐含的动作。 */</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; *(<span class="built_in">array</span> + i) != <span class="number">0</span>; i++) &#123;</span><br><span class="line">	<span class="keyword">if</span> (*(<span class="built_in">array</span> + i) == search) &#123;</span><br><span class="line">		*ppa = <span class="built_in">array</span> + i <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*(<span class="built_in">array</span>+i)==<span class="number">0</span>) &#123;</span><br><span class="line">		*ppa=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>看明白了吗？ ppa 指向指针 p 的地址。 对*ppa 的修改就是对 p 值的修改。 你自行去调试。<br>经过修改后的程序就可以完成所要的功能了。 看懂了这个例子，也就达到了本篇所要求的目的。</p>
<h1 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h1><p>什么是函数指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>) = MyFun;</span><br><span class="line">    MyFun(<span class="number">10</span>);</span><br><span class="line">    (*FunP)(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了 FunP 指针变量后，我们就可以对它赋值指向 MyFun，然后通过 FunP 来调用 MyFun 函数了。看我如何通过 FunP 指针变量来调用 MyFun 函数的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    MyFun(<span class="number">10</span>); <span class="comment">/* 这是直接调用 MyFun 函数 */</span></span><br><span class="line"></span><br><span class="line">    FunP = &amp;MyFun; <span class="comment">/* 将 MyFun 函数的地址赋给 FunP 变量 */</span></span><br><span class="line">    FunP = MyFun; <span class="comment">/* 将 MyFun 函数的地址赋给 FunP 变量 */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    (*FunP)(<span class="number">20</span>);<span class="comment">/* （★）这是通过函数指针变量 FunP 来调用MyFun 函数的。 */</span></span><br><span class="line">    FunP(<span class="number">20</span>); <span class="comment">/* （★）这是通过函数指针变量来调用 MyFun 函数的。*/</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1）其实，MyFun 的函数名与 FunP 函数指针都是一样的，即都是函数指针。<br>MyFun 函数名是一个函数指针常量，而 FunP 是一个函数数指针变量，这是它 们的关系。</p>
<p>2）但函数名调用如果都得如(*MyFun)(10)这样，那书写与读起来都是不 方便和不习惯的。所以 C 语言的设计者们才会设计成又可允许 MyFun(10)这种 形式地调用（这样方便多了并与数学中的函数形式一样，不是吗？）。</p>
<p>3）为统一起见，FunP 函数指针变量也可以 FunP(10)的形式来调用。</p>
<p>4）赋值时，即可 FunP = &amp;MyFun 形式，也可 FunP = MyFun。</p>
<p>上述代码的写法，随便你爱怎么着！<br>请这样理解吧！这可是有助于你对函数指针的应用喽！ 最后 ——<br>补充说明一点，在函数的声明处：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span>)</span></span>; <span class="comment">/*不能写成 void (*MyFun)(int)。*/</span></span><br><span class="line"><span class="keyword">void</span> (*FunP)(<span class="keyword">int</span>); <span class="comment">/*不能写成 void FunP(int)。*/</span></span><br><span class="line">定义某一函数的指针类型</span><br><span class="line">C</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*FunType)</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">FunType FunP; <span class="comment">/*然后用 FunType 类型来声明全局 FunP 变量*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    FunType FunP;</span><br><span class="line">    MyFun(<span class="number">10</span>);</span><br><span class="line">    FunP = &amp;MyFun;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyFun</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义一个名为 FunType 函数指针类型，而不是一个 FunType 变量。 然后，FunType FunP 这句就如 PINT px;一样地声明一个 FunP<br>变量。</p>
<p>函数指针作为某个函数的参数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun1</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun2</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun3</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*FunType)</span><span class="params">(<span class="keyword">int</span>)</span></span>; <span class="comment">/* ②. 定义一个函数指针类型 FunType,只要函数类型（参数和返回值）相同就可以只用之来定义 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CallMyFun</span><span class="params">(FunType fp, <span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    CallMyFun(MyFun1, <span class="number">10</span>); <span class="comment">/* ⑤. 通过 CallMyFun 函数分别 调用三个不同的函数 */</span></span><br><span class="line">    CallMyFun(MyFun2, <span class="number">20</span>);</span><br><span class="line">    CallMyFun(MyFun3, <span class="number">30</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CallMyFun</span><span class="params">(FunType fp, <span class="keyword">int</span> x)</span> <span class="comment">/* ③. 参数 fp 的类型是FunType。*/</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fp(x);<span class="comment">/* ④. 通过 fp 的指针执行传递进来的函数，注意 fp 所指 的函数是有一个参数的。 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun1</span><span class="params">(<span class="keyword">int</span> x)</span> <span class="comment">/* ①. 这是个有一个参数的函数，以下两个函数也相同。 */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"函数 MyFun1 中输出：%d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun2</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"函数 MyFun2 中输出：%d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MyFun3</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"函数 MyFun3 中输出：%d\n"</span>, x);</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p>函数 MyFun1 中输出：10<br>函数 MyFun2 中输出：20<br>函数 MyFun3 中输出：30<br>函数类型<br>函数指针只要返回值和参数相同就可以指向</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> (*p1)(<span class="keyword">int</span>) ; <span class="comment">// 可以指向函数的类型是空返回值且一个int类型的参数</span></span><br><span class="line"><span class="keyword">double</span> (*p2)(<span class="keyword">int</span>, <span class="keyword">int</span>) ; <span class="comment">// 可以指向函数的类型是double类型的返回值且两个int类型的参数</span></span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Zhenglin Li</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://9pshr3.coding-pages.com/2023/01/18/A%20first%20look%20at%20C++%20(7)/">http://9pshr3.coding-pages.com/2023/01/18/A%20first%20look%20at%20C++%20(7)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://9pshr3.coding-pages.com" target="_blank">熊儿老猫的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-8.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="../assets/wechatpay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/../assets/wechatpay.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="../assets/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/../assets/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/18/A%20first%20look%20at%20C++%20(8)/"><img class="prev-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-7.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">A first look at C++ (8)</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/18/A%20first%20look%20at%20C++%20(5)/"><img class="next-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-7.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">A first look at C++ (5)</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/useblue/ucdn/imgs/bp-8.webp)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Zhenglin Li</div><div class="framework-info"><span>框架 </span><a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks"></canvas><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script defer="defer" id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"position":"right","width":150,"height":300,"hOffset":20,"vOffset":-90},"mobile":{"show":true,"scale":1},"react":{"opacityDefault":0.3,"opacityOnHover":0.3,"opacity":0.95},"log":false});</script></body></html>